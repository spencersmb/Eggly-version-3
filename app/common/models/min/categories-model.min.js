angular.module("eggly.models.categories",[]).service("CategoriesModel",function(e,t){function n(e){return e.data}function r(e){return o=n(e)}var o,u,a=this,i={FETCH:"app/data/categories.json"};a.getCategories=function(){return o?t.when(o):e.get(i.FETCH).then(r)},a.setCurrentCategory=function(e){return a.getCategoryByName(e).then(function(e){u=e})},a.getCurrentCategory=function(){return u},a.getCurrentCategoryName=function(){return u?u.name:""},a.isCurrentCategory=function(e){return""!=u&&e.name===u.name},a.getCategoryByName=function(e){function n(){return _.find(o,function(t){return t.name==e})}var r=t.defer();return o?r.resolve(n()):a.getCategories().then(function(){r.resolve(n())}),r.promise}});